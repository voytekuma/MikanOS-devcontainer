## 割り込みハンドラの高速化
- 割り込みハンドラの処理は重い
    - 割り込み処理中に他の割り込み処理を受けることができない
- 割り込みが来たことを記憶、処理は後回しにして高速化
    - FIFOというデータ構造を使う

<br>

## FIFO
- 先入れ先出し
- つまりキュー
- C++標準ライブラリのキューは動的メモリ管理が必要なため今は使えない

<br>

## キューの実装
- 固定長キューを実装
- なんかどっかでやったきがする

<br>

## キューを使った割り込み高速化
- 割り込み発生時にメッセージをキューに積む
- 処理はmainのwhileループで行う
- キュー処理ループ開始時に \_\_asm__("cli")__
    - cli命令はCPUの割り込みフラグを0にする
    - 0のとき、CPUは外部割り込みを受け取らない
    - データ競合の発生を防ぐ
    - 対応する命令にsti命令がある
